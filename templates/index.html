<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing AI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <aside class="sidebar">
        <h2 class="mb-4">Tareas</h2>
        <ul class="nav nav-tabs flex-column" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="task2-tab" data-bs-toggle="tab" data-bs-target="#task2" type="button" role="tab" aria-controls="task2" aria-selected="false">Importaciones</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="task3-tab" data-bs-toggle="tab" data-bs-target="#task3" type="button" role="tab" aria-controls="task3" aria-selected="false">Análisis Exploratorio</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="task4-tab" data-bs-toggle="tab" data-bs-target="#task4" type="button" role="tab" aria-controls="task4" aria-selected="false">Análisis Exploratorio</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="task5-tab" data-bs-toggle="tab" data-bs-target="#task5" type="button" role="tab" aria-controls="task5" aria-selected="false">Teoría de K-Means Clustering</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="task6-tab" data-bs-toggle="tab" data-bs-target="#task6" type="button" role="tab" aria-controls="task6" aria-selected="false">Método del Codo para K Óptimo</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="task7-tab" data-bs-toggle="tab" data-bs-target="#task7" type="button" role="tab" aria-controls="task7" aria-selected="false">Aplicación de K-Means</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="task8-tab" data-bs-toggle="tab" data-bs-target="#task8" type="button" role="tab" aria-controls="task8" aria-selected="false">PCA y Visualización 3D</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="task9-tab" data-bs-toggle="tab" data-bs-target="#task9" type="button" role="tab" aria-controls="task9" aria-selected="false">Teoría de Autoencoders</button>
            </li>
        </ul>
    </aside>

    <div class="content">
        <header class="header text-center py-3 bg-light">
            <div class="container">
                <h1 class="display-5 fw-bold mb-2">Marketing IA</h1>
                <p class="lead">Caso de Negocio</p>
            </div>
        </header>

        <div class="tab-content mt-4" id="myTabContent">
            <div class="tab-pane fade" id="task2" role="tabpanel" aria-labelledby="task2-tab">
                <h3>Importacion Librerías y Datasets</h3>
                <div class="row">
                    <div class="col-md-6">
                        <div id="task2-dtypes" class="plotly-graph"></div>
                        <h6 class="mt-2 text-muted">Distribución de Tipos de Datos</h6>
                    </div>
                    <div class="col-md-6">
                        <div id="task2-nulls" class="plotly-graph"></div>
                        <h6 class="mt-2 text-muted">Valores Nulos por Columna</h6>
                    </div>
                </div>
                <div class="accordion mt-3" id="task2Accordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#task2Info">
                                Resumen del Dataset
                            </button>
                        </h2>
                        <div id="task2Info" class="accordion-collapse collapse" data-bs-parent="#task2Accordion">
                            <div class="accordion-body" id="task2-info">
                                </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="task3" role="tabpanel" aria-labelledby="task3-tab">
                <h3>Análisis Exploratorio</h3>
                <div id="task3-country" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Distribución por País</h6>
                <div id="task3-productline" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Línea de Producto</h6>
                <div id="task3-dealsize" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Tamaño de Trato</h6>
                <div class="accordion mt-3" id="task3Accordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#task3Conclusions">
                                Conclusiones Iniciales
                            </button>
                        </h2>
                        <div id="task3Conclusions" class="accordion-collapse collapse" data-bs-parent="#task3Accordion">
                            <div class="accordion-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <ul>
                                            <li>El mercado estadounidense es el más importante para la empresa</li>
                                            <li>Los productos clásicos tienen mayor demanda</li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <ul>
                                            <li>La mayoría de los tratos son de tamaño mediano</li>
                                            <li>Existe potencial para expandir líneas menos populares</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="task4" role="tabpanel" aria-labelledby="task4-tab">
                <h3>Análisis Exploratorio</h3>
                <div id="task4-correlation" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Matriz de Correlación</h6>
                <div id="task4-pairplot" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Relación entre Variables</h6>
                <div id="task4-sales-dist" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Distribución de Ventas</h6>
                <div id="task4-qty-dist" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Distribución de Cantidad Ordenada</h6>
            </div>
            <div class="tab-pane fade" id="task5" role="tabpanel" aria-labelledby="task5-tab">
                <h3>Teoría de K-Means Clustering</h3>
                <div id="task5-diagram" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Diagrama Conceptual de K-Means</h6>
                <div class="mt-3">
                    <h6 class="mb-2 text-muted">Aplicación en Marketing</h6>
                    <p>K-Means es ideal para segmentación de clientes basada en:</p>
                    <ul>
                        <li>Comportamiento de compra</li>
                        <li>Características demográficas</li>
                        <li>Patrones de gasto</li>
                        <li>Frecuencia de compra</li>
                    </ul>
                </div>
            </div>
            <div class="tab-pane fade" id="task6" role="tabpanel" aria-labelledby="task6-tab">
                <h3>Método del Codo para K Óptimo</h3>
                <div id="task6-elbow" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Método del Codo</h6>
                <div class="mt-3">
                    <h6 class="mb-2 text-muted">Interpretación del Gráfico</h6>
                    <p>El método del codo ayuda a determinar el número óptimo de clusters buscando el punto donde la disminución en la inercia comienza a estabilizarse.</p>
                    <h6 class="mt-3 mb-2 text-muted">Nuestro Resultado</h6>
                    <p id="task6-optimal"></p>
                </div>
                <div class="accordion mt-3" id="task6Accordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#task6Process">
                                Proceso de Decisión
                            </button>
                        </h2>
                        <div id="task6Process" class="accordion-collapse collapse" data-bs-parent="#task6Accordion">
                            <div class="accordion-body">
                                <p>Para confirmar el número óptimo de clusters, consideramos:</p>
                                <ol>
                                    <li>La posición del "codo" en la gráfica</li>
                                    <li>El score de silueta para cada K</li>
                                    <li>La interpretabilidad de los clusters resultantes</li>
                                    <li>Los requisitos del negocio</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="task7" role="tabpanel" aria-labelledby="task7-tab">
                <h3>Aplicación de K-Means</h3>
                <div id="task7-clusters" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Visualización de Clusters (2D)</h6>
                <div id="task7-stats">
                    </div>
                <div class="accordion mt-3" id="task7Accordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#task7Clusters">
                                Descripción de los Clusters
                            </button>
                        </h2>
                        <div id="task7Clusters" class="accordion-collapse collapse" data-bs-parent="#task7Accordion">
                            <div class="accordion-body">
                                <div class="row" id="task7-cluster-desc">
                                    <div class="col-md-6">
                                        <div class="cluster-card">
                                            <h5 class="card-title">Cluster 0: Grandes Compradores</h5>
                                            <p class="card-text">Clientes con alto volumen de compras y gasto frecuente.</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="cluster-card">
                                            <h5 class="card-title">Cluster 1: Compradores Moderados</h5>
                                            <p class="card-text">Clientes con compras regulares pero de menor volumen.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="task8" role="tabpanel" aria-labelledby="task8-tab">
                <h3>PCA y Visualización 3D</h3>
                <div id="task8-3d" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Visualización 3D de Clusters</h6>
                <div id="task8-variance" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Varianza Explicada</h6>
                <div class="accordion mt-3" id="task8Accordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#task8Interpretation">
                                Interpretación de los Clusters en 3D
                            </button>
                        </h2>
                        <div id="task8Interpretation" class="accordion-collapse collapse" data-bs-parent="#task8Accordion">
                            <div class="accordion-body">
                                <p>La visualización 3D confirma que nuestros clusters están bien separados en el espacio de características reducido:</p>
                                <ul>
                                    <li>Los grandes compradores (Cluster 0) están claramente separados</li>
                                    <li>Los compradores ocasionales (Cluster 2) forman un grupo compacto</li>
                                    <li>Los otros clusters muestran cierta superposición pero patrones distintos</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="task9" role="tabpanel" aria-labelledby="task9-tab">
                <h3>Teoría de Autoencoders</h3>
                <div id="task9-diagram" class="plotly-graph mb-3"></div>
                <h6 class="mb-2 text-muted">Diagrama de Autoencoder</h6>
                <div class="mt-3">
                    <h6 class="mb-2 text-muted">¿Qué es un Autoencoder?</h6>
                    <p id="task9-whatis" class="card-text">Un autoencoder es una red neuronal que aprende a comprimir y reconstruir datos, útil para reducción de dimensionalidad y detección de anomalías.</p>
                    <h6 class="mt-3 mb-2 text-muted">Componentes Clave</h6>
                    <div id="task9-components">
                        <ul>
                            <li>Encoder: Comprime los datos en un espacio latente</li>
                            <li>Decoder: Reconstruye los datos desde el espacio latente</li>
                            <li>Función de pérdida: Mide el error de reconstrucción</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/app.js"></script>
</body>
</html>
